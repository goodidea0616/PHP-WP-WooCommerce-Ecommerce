!function(e){function t(e,t){var i=0;console.log(e),o("liquid_"+e[e.length-e.length],e,t,(function(){i++,o("liquid_"+e[i],e,t,(function(){i++,o("liquid_"+e[i],e,t,(function(){i++,o("liquid_"+e[i],e,t,(function(){i++,o("liquid_"+e[i],e,t,(function(){i++,o("liquid_"+e[i],e,t)}))}))}))}))}))}function i(){var t,i,n,o,a;return e.ajax({url:ajaxurl,type:"GET",data:{action:"liquid_total_imported"}}).done((function(r){return t=parseInt(r.match(/(?:(?!\|).)*/i)[0]),r.indexOf("|")?(o=r.substring(0,r.indexOf("|")),a=r.replace(o,"")):a=t,a.match(/(\d+)(?!.*\d)/i)?(i=parseInt(a.match(/(\d+)(?!.*\d)/i)[0]),n=parseInt(100*i/t)):n=parseInt("100"),e("#lqd-loader").parent().css("width",n-1+"%"),e("#lqd-loader").text(n-1+"%"),!1})),!1}function n(){return e.ajax({url:ajaxurl,type:"GET",data:{action:"liquid_progress_imported"}}).done((function(t){return e("#liquid-progress").text(t),!1})),!1}function o(t,o,a,r){var c,l;c=setInterval(i,5e3),e.ajax({url:ajaxurl,type:"POST",data:{action:t,demo:a,content:e("#lqd-imp-all").is(":checked")?1:0,media:e("#lqd-imp-media").is(":checked")?1:0},beforeSend:function(t){e.ajax({url:ajaxurl,type:"POST",data:{action:"liquid_reset_logs"}}),l=setInterval(n,5e3)},success:function(e){},complete:function(){"function"!=typeof r||t.match("undefined")||r(),clearInterval(c),clearInterval(l)}}).done((function(i){if(console.log(i),"liquid_"+o[o.length-1]===t){clearInterval(c),clearInterval(l);var n=e("#liquid-popup");return e("#lqd-loader").parent().css("min-width","100%"),e("#lqd-loader").text("100%"),setTimeout((function(){e("#liquid-import-emoj").show(),e("#lqd-progress-popup").hide(),e("#liquid-progress").hide(),setTimeout((function(){n.remove()}),1e4)}),800),!1}}))}function a(t){e.ajax({method:"POST",url:ajaxurl,data:t,contentType:!1,processData:!1}).done((function(i){if(void 0!==i.status&&"newAJAX"===i.status)a(t);else if(void 0!==i.status&&"customizerAJAX"===i.status){var n;(n=new FormData).append("action","ocdi_import_customizer_data"),n.append("wp_customize","on"),a(n)}else if(void 0!==i.status&&"afterAllImportAJAX"===i.status){var n;(n=new FormData).append("action","ocdi_after_import_data"),a(n)}else if(void 0!==i.message){var o=e("#liquid-popup");setTimeout((function(){o.remove()}),1e4)}else{var o=e("#liquid-popup");setTimeout((function(){o.remove()}),1e4)}})).fail((function(t){var i=e("#liquid-popup");setTimeout((function(){i.remove()}),1e4)}))}function r(t){e.ajax({url:ajaxurl,type:"POST",data:{action:"liquid_reset_wp"},beforeSend:function(){e("#liquid-demo-loader").addClass("is-active")}}).done((function(i){console.log(i),e("#liquid-demo-loader").removeClass("is-active"),"function"==typeof t&&t()}))}function c(e){"function"==typeof e&&e()}function l(t){var i=e("#lqd-popup");i.on("click",".lqd-imp-popup-close",(function(){i.remove()})),i.on("click",".agree",(function(){var t=e(this),i=t.parent();t.is(":checked")?i.addClass("checked"):i.removeClass("checked")})),i.on("click",".lqd-import-btn",(function(){var i=e(this),n=[];i.parent().parent().find("#lqd-import-opts .lqd-imp-opt :checked").each((function(){n.push(e(this).val())}));var o=new d(t,n,t)}))}var d=function(i,n){var o=this;o.id=i,o.options=n,this.init=function(){var i=this,a,r=e("#lqd-popup"),c=this.options.slice();r.hide(),e("#liquid-import-emoj").hide(),r.hide(),e(document.body).append(_.template(e("#tmpl-demo-import-modules").html())({modules:this.options}));var l=new FormData;l.append("action","ocdi_import_demo_data"),l.append("selected",2),l.append("selections",n),t(o.options,o.id)},this.init()};e.fn.getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i,n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};var s={init:function(){this.oneCollectionLazyLoad(),this.initTabs(),this.initDemo(),this.initIconpicker()},initDemo:function(){e(".lqd-solid-wrap").on("click",".lqd-import-popup",(function(){if(!e(".liquid-error-message").length){var t=e(this).data("demo-id"),i=liquid_demos[t],n=e(this).attr("data-import-id");return e.ajax({url:ajaxurl,type:"GET",data:{action:"liquid_prepare_demo_package",demo:t},beforeSend:function(){e("#liquid-demo-loader").addClass("is-active")}}).done((function(n){var o=JSON.parse(n);if(console.log(o),1===o.stat)e.ajax({url:ajaxurl,type:"POST",data:{action:"liquid_require_plugins",demo:t}}).done((function(n){console.log(n),e("#liquid-demo-loader").removeClass("is-active"),ret=JSON.parse(n),1==ret.stat?(e(document.body).append(_.template(e("#tmpl-demo-popup").html())(i)),l(t)):0==ret.stat&&(message=message="Please install/activate <strong>"+ret.plugins.toString()+"</strong>",c((function(){e.confirm({title:"Missing Required Plugins",content:message,buttons:{confirm:{text:"I understand, let's import, please",btnClass:"btn-blue",keys:["enter","shift"],action:function(){e(document.body).append(_.template(e("#tmpl-demo-popup").html())(i)),l(t)}},cancel:function(){}}})})))}));else{e("#liquid-demo-loader").removeClass("is-active");var a="Error:",r="Please, Activate Ave Core plugin";0===o.stat&&null!=o.message&&(a="Error",r=o.message),e.confirm({title:a,content:r,buttons:{confirm:{text:"Ok",btnClass:"btn-blue",keys:["enter","shift"],action:function(){}},cancel:function(){}}})}})),!1}}))},oneCollectionLazyLoad:function(){var t=document.querySelectorAll(".vc_ui-template");if(t.length>=0)for(var i=new IntersectionObserver((function(t,i){t.forEach((function(t){var i,n=t.target.querySelector("img");t.isIntersecting&&(n.src=n.getAttribute("data-src"),e(n).parent().css("background-image","url("+n.getAttribute("data-src")+")"))}))}),{threshold:.25}),n=0;n<t.length;n++)i.observe(t[n])},initIconpicker:function(){var t;e.isFunction(e.fn.fontIconPicker)&&e(".liquid-icon-picker").fontIconPicker()},initTabs:function(){var t=e().getParameterByName("page");e(".liquid-nav-tabs").find("li").each((function(){var i=e(this);i.data("tab")==t&&i.addClass("is-active")}))}};jQuery(document).ready((function(){s.init()})),jQuery(document).ajaxComplete((function(e){s.initIconpicker()}))}(jQuery);